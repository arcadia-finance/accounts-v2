[profile.default]
src = 'src'
out = 'out'
libs = ['lib']
optimizer = true
optimizer_runs = 200
auto_detect_solc = true
fuzz = { runs = 50, max_test_rejects = 100_000_000}
no_match_path = "**/{script/,test/fork/}*"
remappings = [
    "@uniswap/v2-core/contracts=./test/utils/fixtures/swap-router-02",
    "@uniswap/v3-core/contracts/=lib/v3-core/contracts/",
    "@uniswap/v3-periphery/contracts/=lib/v3-periphery/contracts/",
    "contracts/=lib/slipstream/contracts",
    "solmate/=lib/solmate/",
    "lib/openzeppelin-contracts-upgradeable-v4.9:@openzeppelin/=lib/openzeppelin-contracts-v4.9/",
    "lib/merkl-contracts:@openzeppelin/contracts/=lib/openzeppelin-contracts-v4.9/contracts/",
    "lib/merkl-contracts:@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable-v4.9/contracts/",
    "lib/slipstream:@openzeppelin/=lib/slipstream/lib/openzeppelin-contracts/",
    "lib/v3-periphery:@openzeppelin/=lib/openzeppelin-contracts-v3.4/",
    "lib/v4-periphery:@openzeppelin/=lib/v4-periphery/lib/v4-core/lib/openzeppelin-contracts/",
    "lib/v4-periphery/lib/v4-core:@openzeppelin/=lib/v4-periphery/lib/v4-core/lib/openzeppelin-contracts/",
]
fs_permissions = [{ access = "read", path = "./out"}, { access = "write", path = "./script/out"}]
unchecked_cheatcode_artifacts = true
# Transient storage composability warning (known safe pattern in AccountsGuard):
# - 2394: transient storage cleared at end of call
# Solmate deprecation warnings (used in deployed contracts):
# - 2424: memory-safe-assembly natspec deprecated (FixedPointMathLib.sol, SafeTransferLib.sol, MerkleProofLib.sol)
# - 8429: virtual modifiers deprecated (Owned.sol, ReentrancyGuard.sol)
# Test files exceed max sizes:
# - 3860: Contract initcode size exceeds 49152 bytes
# - 4591: More than 256 warnings (meta-warning triggered by suppressed max size warnings)
# - 5574: Contract code size exceeds 24576 bytes
ignored_error_codes = [2394, 2424, 3860, 4591, 5574, 8429]
# Test-only submodules: not used in src/, safe to suppress all warnings.
ignored_warnings_from = [
    "lib/openzeppelin-contracts-v4.9/",
    "lib/openzeppelin-contracts-upgradeable-v4.9/",
    "lib/slipstream/",
]

[fmt]
bracket_spacing = true
int_types = "long"
line_length = 120
number_underscore = "thousands"
quote_style = "double"
tab_width = 4

[lint]
exclude_lints = [
    "asm-keccak256",
    "unsafe-cheatcode",
    "unwrapped-modifier-logic",
]
ignore = [
    "**/merkl/**/*",
    "**/RemoveMerklOperator.fuzz.t.sol",
    "**/SetMerklOperators.fuzz.t.sol",
]

[profile.dev]
fuzz = { runs = 50, max_test_rejects = 100_000_000}

[profile.gh]
fuzz = { runs = 200, max_test_rejects = 100_000_000}

[profile.hf]
fuzz = { runs = 2_000, max_test_rejects = 1_000_000_000}
